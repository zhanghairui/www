<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0">
<title>张海瑞 - zhanghairui.com</title>
<style>
* { margin:0; padding: 0; }
div { width: 200px; height: 200px; background: red; }
</style>
</head>
<body>
	asdfadf
    <div></div>
    <script>
    	var oDiv=document.querySelector('div');

    	var x=oDiv.offsetLeft;
    	var y=oDiv.offsetTop;

    	oDiv.addEventListener('touchstart', function (ev){
    		var disX=ev.changedTouches[0].pageX-x;
    		var disY=ev.changedTouches[0].pageY-y;

    		function fnMove(ev)
    		{
    			x=ev.changedTouches[0].pageX-disX;
    			y=ev.changedTouches[0].pageY-disY;

    			oDiv.style.WebkitTransform='translate('+x+'px, '+y+'px)';

    			ev.preventDefault();
    		}

    		function fnEnd(ev)
    		{
    			document.removeEventListener('touchmove', fnMove);
    			document.removeEventListener('touchend', fnEnd);
    		}

    		document.addEventListener('touchmove', fnMove, false);
    		document.addEventListener('touchend', fnEnd, false);

    		// ev.preventDefault();
    	}, false);
    </script>
</body>
</html>